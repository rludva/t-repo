schemaVersion: 2.2.2
metadata:
  name: nodejs
components:
  - name: myk8cm
    kubernetes:
      inlined:
        apiVersion: v1
        kind: ConfigMap
        metadata:
          name: disconnected-env
          annotations:
            controller.devfile.io/mount-as: env
        data:
          key1: value1
          key2: value2 
  - name: nodejs
    attributes:
      container-overrides: {"securityContext": {"privileged": true}}
      pod-overrides: {"metadata": {"annotations": {"io.kubernetes.cri-o.Devices":"/dev/fuse"}}}
    container:
      image: registry.redhat.io/devspaces/udi-rhel8:3.14-6
      volumeMounts:
        - name: venv
          path: /home/user/.venv
      memoryLimit: '8Gi'
      memoryRequest: '4Gi'
      cpuLimit: '2'
      cpuRequest: '1'
      mountSources: true
  - name: venv
    volume:
      size: 5G
commands: []
